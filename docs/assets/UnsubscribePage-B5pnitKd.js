import{j as e,c as s,g as r,P as t,b as a,u as n,f as i,m as c}from"./ui-BpgqH-jC.js";import{r as o}from"./router-BbihduhY.js";import{J as d,V as l}from"./index-S0TJnd3Y.js";import{C as u,a as m,b as h,c as p,d as b}from"./card-b8xQCfaq.js";import{c as f,u as x,a as k,B as j}from"./index-B0GBI6ls.js";import{I as v}from"./input-D9YeTPkt.js";import{L as y}from"./label--sLxxPgU.js";import"./vendor-B_uAldPx.js";const C=f("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var g="Checkbox",[w,N]=s(g),[_,E]=w(g);function S(s){const{__scopeCheckbox:r,checked:t,children:n,defaultChecked:i,disabled:c,form:d,name:l,onCheckedChange:u,required:m,value:h="on",internal_do_not_use_render:p}=s,[b,f]=a({prop:t,defaultProp:i??!1,onChange:u,caller:g}),[x,k]=o.useState(null),[j,v]=o.useState(null),y=o.useRef(!1),C=!x||(!!d||!!x.closest("form")),w={checked:b,disabled:c,setChecked:f,control:x,setControl:k,name:l,form:d,value:h,hasConsumerStoppedPropagationRef:y,required:m,defaultChecked:!L(i)&&i,isFormControl:C,bubbleInput:j,setBubbleInput:v};return e.jsx(_,{scope:r,...w,children:O(p)?p(w):n})}var R="CheckboxTrigger",I=o.forwardRef(({__scopeCheckbox:s,onKeyDown:r,onClick:a,...c},d)=>{const{control:l,value:u,disabled:m,checked:h,required:p,setControl:b,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:k,bubbleInput:j}=E(R,s),v=n(d,b),y=o.useRef(h);return o.useEffect(()=>{const e=l?.form;if(e){const s=()=>f(y.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[l,f]),e.jsx(t.button,{type:"button",role:"checkbox","aria-checked":L(h)?"mixed":h,"aria-required":p,"data-state":z(h),"data-disabled":m?"":void 0,disabled:m,value:u,...c,ref:v,onKeyDown:i(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:i(a,e=>{f(e=>!!L(e)||!e),j&&k&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});I.displayName=R;var q=o.forwardRef((s,r)=>{const{__scopeCheckbox:t,name:a,checked:n,defaultChecked:i,required:c,disabled:o,value:d,onCheckedChange:l,form:u,...m}=s;return e.jsx(S,{__scopeCheckbox:t,checked:n,defaultChecked:i,disabled:o,required:c,onCheckedChange:l,name:a,form:u,value:d,internal_do_not_use_render:({isFormControl:s})=>e.jsxs(e.Fragment,{children:[e.jsx(I,{...m,ref:r,__scopeCheckbox:t}),s&&e.jsx(A,{__scopeCheckbox:t})]})})});q.displayName=g;var P="CheckboxIndicator",F=o.forwardRef((s,a)=>{const{__scopeCheckbox:n,forceMount:i,...c}=s,o=E(P,n);return e.jsx(r,{present:i||L(o.checked)||!0===o.checked,children:e.jsx(t.span,{"data-state":z(o.checked),"data-disabled":o.disabled?"":void 0,...c,ref:a,style:{pointerEvents:"none",...s.style}})})});F.displayName=P;var M="CheckboxBubbleInput",A=o.forwardRef(({__scopeCheckbox:s,...r},a)=>{const{control:i,hasConsumerStoppedPropagationRef:d,checked:l,defaultChecked:u,required:m,disabled:h,name:p,value:b,form:f,bubbleInput:k,setBubbleInput:j}=E(M,s),v=n(a,j),y=x(l),C=c(i);o.useEffect(()=>{const e=k;if(!e)return;const s=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(s,"checked").set,t=!d.current;if(y!==l&&r){const s=new Event("click",{bubbles:t});e.indeterminate=L(l),r.call(e,!L(l)&&l),e.dispatchEvent(s)}},[k,y,l,d]);const g=o.useRef(!L(l)&&l);return e.jsx(t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??g.current,required:m,disabled:h,name:p,value:b,form:f,...r,tabIndex:-1,ref:v,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function O(e){return"function"==typeof e}function L(e){return"indeterminate"===e}function z(e){return L(e)?"indeterminate":e?"checked":"unchecked"}function B({className:s,...r}){return e.jsx(q,{"data-slot":"checkbox",className:k("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:e.jsx(F,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(C,{className:"size-3.5"})})})}function D(){const[s,r]=d("mpwoobbr"),[t,a]=o.useState(!1),[n,i]=o.useState(!1);return s.succeeded?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx(u,{className:"w-full max-w-md",children:e.jsxs(m,{children:[e.jsx(h,{children:"Unsubscribe Successful"}),e.jsx(p,{children:"Your unsubscribe request has been processed. We're sorry to see you go!"})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundImage:"url(/images/unsubscribe.webp)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs(u,{className:"w-full max-w-md",children:[e.jsxs(m,{children:[e.jsx(h,{children:"Unsubscribe from Vineyard Technologies Emails"}),e.jsx(p,{children:"Select which email lists you'd like to unsubscribe from"})]}),e.jsx(b,{children:e.jsxs("form",{onSubmit:r,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"email",children:"Email Address"}),e.jsx(v,{id:"email",type:"email",name:"email",placeholder:"your.email@example.com",required:!0}),e.jsx(l,{prefix:"Email",field:"email",errors:s.errors})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{children:"Email Lists"}),e.jsx(j,{type:"button",variant:"link",size:"sm",onClick:()=>{const e=!t||!n;a(e),i(e)},className:"h-auto p-0 text-sm",children:"Select All"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"osrs-newsletter",name:"osrs-newsletter",value:"Old School Runescape Market Analysis Newsletter",checked:t,onCheckedChange:e=>a(e)}),e.jsx("label",{htmlFor:"osrs-newsletter",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Old School Runescape Market Analysis Newsletter"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{id:"eve-newsletter",name:"eve-newsletter",value:"Eve Online Market Analysis Newsletter",checked:n,onCheckedChange:e=>i(e)}),e.jsx("label",{htmlFor:"eve-newsletter",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Eve Online Market Analysis Newsletter"})]})]}),e.jsx(j,{type:"submit",disabled:s.submitting,className:"w-full",children:s.submitting?"Submitting...":"Unsubscribe"})]})})]})})}function T(){return e.jsx(D,{})}A.displayName=M;export{T as default};
